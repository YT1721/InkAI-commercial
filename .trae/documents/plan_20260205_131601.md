# InkAI 项目完善与未来开发计划

经过对当前项目状态的全面检查，对比 `README.md` 的规划，InkAI 已完成了核心的 MVP (Minimum Viable Product) 功能构建，拥有了完整的“剧本 -> 分镜 -> 视频 -> 配乐”工作流。

为了将 InkAI 打磨成一个生产级、可商业化的产品，接下来的开发计划将侧重于**体验优化、稳定性增强和高级功能扩展**。

## 🟢 第一阶段：核心体验打磨（当前重点）
**目标**：修复已知的小瑕疵，让现有功能“顺滑”起来。

1.  **画布交互优化** (已部分完成)
    *   [x] 鼠标中心缩放 (Zoom to Cursor)。
    *   [ ] **框选体验优化**：目前的框选逻辑仅在松开鼠标时生效，且视觉反馈较弱。需改为实时高亮选中节点。
    *   [ ] **连线体验优化**：增加贝塞尔曲线的张力调节，支持删除连线（目前只能删除节点或通过右键）。

2.  **节点功能增强**
    *   [ ] **Prompt Input 节点**：目前仅作为文本输入，应增强为“提示词优化器”，内置 prompt 模板库或一键润色功能。
    *   [ ] **Image Editor 节点**：目前的 SketchEditor 功能较基础，需增加“撤销/重做”、图层管理、笔刷大小调节等标准绘图功能。

3.  **性能与存储优化**
    *   [ ] **IndexedDB 清理策略**：目前所有生成的图片/视频都存入 IndexedDB，长期使用会爆满。需增加“历史记录管理”或自动清理旧缓存的功能。
    *   [ ] **图片懒加载**：对于拥有大量节点的大型工作流，视口外的图片应懒加载以减少内存占用。

## 🟡 第二阶段：高级功能扩展
**目标**：引入差异化竞争优势，提升专业创作能力。

1.  **高级视频控制**
    *   [ ] **运镜控制面板**：目前运镜仅靠 Prompt，可增加可视化的“运镜控制器”（如推拉摇移的方向盘）。
    *   [ ] **一致性角色库 (Character LoRA)**：用户上传一张角色图，后续所有生成的视频/图片都能保持该角色的面部特征（利用 Gemini 的 reference image 或未来接入 LoRA）。

2.  **协作与分享**
    *   [ ] **工作流导出/导入**：支持将当前画布状态导出为 `.ink` 或 `.json` 文件，方便用户分享工作流模板。
    *   [ ] **社区模版中心**：在 Dashboard 增加“热门工作流”板块，用户可一键克隆大神的创作流程。

3.  **音频工作室升级 (Sonic Studio 2.0)**
    *   [ ] **多轨混音**：支持将生成的音效、配乐和录音（旁白）在时间轴上进行简单的剪辑和混合。
    *   [ ] **视频-音频对齐**：在 SmartSequenceDock 中提供可视化的音轨波形图，支持手动拖拽对齐关键帧。

## 🔴 第三阶段：商业化与部署
**目标**：为 SaaS 化做准备。

1.  **用户账户系统**
    *   [ ] 集成 Clerk 或 NextAuth，实现用户注册/登录。
    *   [ ] 云端同步工作流数据（目前仅本地存储）。

2.  **计费与配额**
    *   [ ] 设计 Credit 系统（基于 Token 消耗）。
    *   [ ] 对接 Stripe 支付。

3.  **生产环境部署**
    *   [ ] Docker 镜像构建。
    *   [ ] Vercel 部署脚本优化（处理 Serverless 超时问题）。

## 📝 立即执行建议
鉴于目前的进度，我建议优先执行 **“工作流导出/导入”** 和 **“IndexedDB 清理策略”**。这两个功能对于用户的数据安全和长期使用体验至关重要。

请确认是否需要我开始着手实现 **工作流导出/导入** 功能？这将允许您备份您的创作成果。